		\chapter{Gyroscope test}

\begin{table}[!h]
	\begin{tabular}{l l}
		\textbf{Test participants:} & Romain   \\
		\textbf{Date:}  & 10/04-2017
	\end{tabular}
\end{table}

	\section{Purpose}

The objective of this test is to determine the precision of the gyroscope sensor chosen for this project.

	\section{Equipment}
	
\begin{itemize}
	\item breadboard
	\item Arduino Nano v3.0
	\item GY-80  Multi Sensor Board
	\item wires
	\item Arduino 1-8-1 (IDE) software
	\item micro usb cable
\end{itemize}

	\section{Setup}

The Analog pin 4 on the Arduino Nano is connected to the SDA pin on the multi-sensor. The Analog pin 5 on the Arduino Nano is connected to the SLC pin on the multi-sensor. The ground and 5V pins on the Arduino Nanoare connected to their respective equivalent on the multi-sensor.

	\section{Code]

The code is written on the Arduino code Software. The Inter-Integreted Circuit (I2C) is used to simplify the code for the testing. The code is found from an online-tutorial.

Temporary code: 
%#include <Wire.h>
%
%#include <ADXL345.h>
%
%
%
%
%
%
%const float alpha = 0.5;
%
%double fXg = 0;
%double fYg = 0;
%double fZg = 0;
%
%ADXL345 acc;
%
%void setup()
%{
%	acc.begin();
%	Serial.begin(9600);
%	delay(100);
%}
%
%
%void loop()
%{
%	double pitch, roll, Xg, Yg, Zg;
%	acc.read(&Xg, &Yg, &Zg);
%	
%	//Low Pass Filter to smooth out data
%	fXg = Xg * alpha + (fXg * (1.0 - alpha));
%	fYg = Yg * alpha + (fYg * (1.0 - alpha));
%	fZg = Zg * alpha + (fZg * (1.0 - alpha));
%	
%	//Roll and Pitch Equations
%	roll = (atan2(-fYg, fZg)*180.0)/M_PI;
%	pitch = (atan2(fXg, sqrt(fYg*fYg + fZg*fZg))*180.0)/M_PI;
%	
%	Serial.flush();
%	Serial.print(Xg);
%	Serial.print("   ");
%	Serial.print(Yg);
%	Serial.print("   ");
%	Serial.println(Zg);
%	//Serial.println(' ');
%	//Serial.println(roll);
%	
%	delay(50);
%}

	\section{Test}
	
The breadboard is moved and rotated in the three different axis in order to test the pitch, roll and yawn as shown in sketch:
\todo{Graph of 3D and rocket}

The outputs of x, y and z are expressed in degree (°). The rotation around the Y axis is the yaw. To mesure the yawn implies the measure of the tilting of the rocket, thus the direction variaton.  
There are three distinc cases of rocket direction variaton of the desired zenith axis : tilting left, tilting right, no tilting. They are respectively represented in figures:

The Y axis outputs for different postion of the gyroscope parralel to the rocket body are shown in table:

The measurments of negative and positive angles cannot be distinguished.

The Y axis outputs for different postion of the gyroscope perpendicular to the rocket body are modified to attend our requirements. The equivalent of measurement of 90° are added. Due to a test surface not straight, the error is mesured in degree and added to the measurments. The modified outputs are shown in table:

-90° :  -100
%-80° :  -97
-45° :  -60
-30° :  -48
-20  :  -33
-10° :  -15 
  0° :   0.0
+10  :  +15
+30  :  +48
+45° :  +60
+90° :  +100

Some errors can however appear in the gyroscope measurements, but are consided as negligeable.

	\section{Conclusion}
	
When the gyroscope is placed parrallely to the rocket body the values of Y are not usable. When the gyroscope is perpendicular to the rocket body, the measurements can be modified to mesure the tilting of the rocket. Thus the gyroscope will be placed perpendiculary to the rocket body.